(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{314:function(t,a,s){"use strict";s.r(a);var e=s(28),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("æœ¬æ–‡ä¸»è¦æ˜¯å¯¹æå®¢æ—¶é—´ä¸­"),s("a",{attrs:{href:"https://time.geekbang.org/column/article/152807",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šæµè§ˆå™¨å·¥ä½œåŸç†ä¸å®è·µã€‹"),s("OutboundLink")],1),t._v("çš„å®‰å…¨ç›¸å…³éƒ¨åˆ†çš„å­¦ä¹ ç¬”è®°ã€‚éƒ¨åˆ†å›¾é‡‡ç”¨æ–‡ç« "),s("a",{attrs:{href:"https://juejin.im/post/5e78d298f265da576a57a6bc#heading-6",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Œå‰ç«¯é£Ÿå ‚ã€å†æ¥ä¸€æ‰“Webå®‰å…¨é¢è¯•é¢˜ğŸ”¥(æŒç»­æ›´æ–°)"),s("OutboundLink")],1),t._v("ä¸­çš„å›¾ç‰‡ã€‚")]),t._v(" "),s("h2",{attrs:{id:"å®‰å…¨ä¸è‡ªç”±çš„å¹³è¡¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®‰å…¨ä¸è‡ªç”±çš„å¹³è¡¡"}},[t._v("#")]),t._v(" å®‰å…¨ä¸è‡ªç”±çš„å¹³è¡¡")]),t._v(" "),s("p",[t._v("Webä¸€ç›´åœ¨å®‰å…¨å’Œè‡ªç”±ä¹‹é—´å¯»æ‰¾å¹³è¡¡ç‚¹ã€‚ä¸ºäº†Webä¸–ç•Œçš„è‡ªç”±ï¼Œé»˜è®¤é¡µé¢èƒ½å¼•å…¥ç¬¬ä¸‰æ–¹èµ„æºï¼Œä½†ä¸ºäº†å®‰å…¨åˆé€šè¿‡CSPç­–ç•¥åŠ ä»¥é™åˆ¶ï¼›ä¸ºäº†å®‰å…¨ï¼Œé»˜è®¤XMLHttpRequest å’Œ Fetch ä¸èƒ½è·¨ç«™è¯·æ±‚èµ„æºï¼Œç„¶ååˆé€šè¿‡ CORS ç­–ç•¥æ¥æ”¯æŒå…¶è·¨åŸŸã€‚")]),t._v(" "),s("p",[t._v("ä¸ºäº†æ›´å¤šçš„è‡ªç”±ï¼Œæ”¯æŒé»˜è®¤é¡µé¢èƒ½å¼•å…¥ç¬¬ä¸‰æ–¹èµ„æºå’ŒCORSï¼ŒåŒæ—¶ä¹Ÿå°±å¸¦æ¥äº†å¾ˆå¤šå®‰å…¨é—®é¢˜ï¼ŒXSSå°±æ˜¯å…¶ä¸­ä¸€ä¸ªã€‚")]),t._v(" "),s("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯xss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯xss"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯XSS")]),t._v(" "),s("p",[t._v("XSSï¼ˆCross Site Scriptingï¼‰ï¼Œè·¨ç«™è„šæœ¬æ”»å‡»ï¼Œä¸ºäº†ä¸CSSåŒºåˆ†ï¼Œæ•…ç®€ç§°ä¸ºXSSã€‚")]),t._v(" "),s("p",[t._v("åç§°é‡Œçš„å…³é”®å­—æ˜¯Scriptingè„šæœ¬ï¼Œè¡¨æ˜XSSçš„æ”»å‡»æ–¹å¼æ˜¯é€šè¿‡è„šæœ¬ï¼šé»‘å®¢å¾€HTMLæ–‡ä»¶ä¸­æ³¨å…¥æ¶æ„è„šæœ¬ï¼Œä»è€Œåœ¨ç”¨æˆ·æµè§ˆé¡µé¢æ—¶åˆ©ç”¨æ¶æ„è„šæœ¬å¯¹ç”¨æˆ·å‘èµ·æ”»å‡»ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("æœ€å¼€å§‹çš„æ—¶å€™ï¼Œè¿™ç§æ”»å‡»æ˜¯é€šè¿‡è·¨åŸŸæ¥å®ç°çš„ï¼Œæ‰€ä»¥å«â€œè·¨åŸŸè„šæœ¬â€ã€‚ä½†æ˜¯å‘å±•åˆ°ç°åœ¨ï¼Œå¾€ HTML æ–‡ä»¶ä¸­æ³¨å…¥æ¶æ„ä»£ç çš„æ–¹å¼è¶Šæ¥è¶Šå¤šäº†ï¼Œæ‰€ä»¥æ˜¯å¦è·¨åŸŸæ³¨å…¥è„šæœ¬å·²ç»ä¸æ˜¯å”¯ä¸€çš„æ³¨å…¥æ‰‹æ®µäº†ï¼Œä½†æ˜¯ XSS è¿™ä¸ªåå­—å´ä¸€ç›´ä¿ç•™è‡³ä»Šã€‚")])]),t._v(" "),s("h2",{attrs:{id:"xsså¯ä»¥åšäº›ä»€ä¹ˆï¼Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xsså¯ä»¥åšäº›ä»€ä¹ˆï¼Ÿ"}},[t._v("#")]),t._v(" XSSå¯ä»¥åšäº›ä»€ä¹ˆï¼Ÿ")]),t._v(" "),s("p",[t._v("ç”±äºXSSæ˜¯é€šè¿‡æ³¨å…¥æ¶æ„è„šæœ¬å®ç°ï¼Œå› æ­¤åŸºæœ¬ä¸Šåªè¦é¡µé¢è„šæœ¬å¯ä»¥åšçš„äº‹ï¼ŒXSSéƒ½å¯ä»¥åšã€‚")]),t._v(" "),s("h4",{attrs:{id:"çªƒå–cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#çªƒå–cookie"}},[t._v("#")]),t._v(" çªƒå–Cookie")]),t._v(" "),s("p",[t._v("æ¶æ„JavaScriptå¯ä»¥é€šè¿‡"),s("code",[t._v("document.cookie")]),t._v("è·å–ç”¨æˆ·Cookieä¿¡æ¯ã€‚")]),t._v(" "),s("p",[t._v("è·å–åˆ°Cookieåï¼Œå¯ä»¥é€šè¿‡Ajaxè¯·æ±‚å°†æ•°æ®å‘é€ç»™æ¶æ„æœåŠ¡å™¨ï¼ˆè·¨åŸŸå¯ä»¥é€šè¿‡CORSè§£å†³ï¼‰ï¼Œæ¶æ„æœåŠ¡å™¨æ‹¿åˆ°ç”¨æˆ·Cookieåï¼Œå¯ä»¥åœ¨å…¶ä»–ç”µè„‘åˆ æ¨¡æ‹Ÿç”¨æˆ·ç™»å½•ï¼Œè¿›è¡Œè½¬è´¦ç­‰æ¶æ„æ“ä½œã€‚")]),t._v(" "),s("h4",{attrs:{id:"ç›‘å¬ç”¨æˆ·è¡Œä¸º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç›‘å¬ç”¨æˆ·è¡Œä¸º"}},[t._v("#")]),t._v(" ç›‘å¬ç”¨æˆ·è¡Œä¸º")]),t._v(" "),s("p",[t._v("æ¶æ„JavaScriptå¯ä»¥é€šè¿‡"),s("code",[t._v("addEventListener")]),t._v("ç›‘å¬ç”¨æˆ·çš„é”®ç›˜äº‹ä»¶ï¼Œæ¯”å¦‚è¾“å…¥çš„é“¶è¡Œå¡ä¿¡æ¯ã€å¯†ç ã€èº«ä»½è¯å·ç­‰ï¼Œå¹¶å°†å…¶å‘ç»™æ¶æ„æœåŠ¡å™¨ã€‚è·å¾—è¿™äº›ä¿¡æ¯åï¼Œå¯ä»¥ç”¨æ¥çœ‹å¾ˆå¤šå…¶ä»–åäº‹ã€‚")]),t._v(" "),s("h4",{attrs:{id:"ä¿®æ”¹dom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®æ”¹dom"}},[t._v("#")]),t._v(" ä¿®æ”¹DOM")]),t._v(" "),s("p",[t._v("æ¶æ„JavaScriptå¯ä»¥ä¿®æ”¹ç”¨æˆ·æµè§ˆçš„é¡µé¢ï¼Œæ¯”å¦‚ä¼ªé€ ç™»å½•çª—å£ç­‰ï¼Œç”¨æ¥éª—å–ç”¨æˆ·çš„è´¦å·å’Œå¯†ç ã€‚")]),t._v(" "),s("h4",{attrs:{id:"ç”Ÿæˆæµ®çª—å¹¿å‘Š"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç”Ÿæˆæµ®çª—å¹¿å‘Š"}},[t._v("#")]),t._v(" ç”Ÿæˆæµ®çª—å¹¿å‘Š")]),t._v(" "),s("p",[t._v("æ¶æ„JavaScriptå¯ä»¥åœ¨é¡µé¢ç”Ÿæˆæµ®çª—å¹¿å‘Šï¼Œä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒã€‚")]),t._v(" "),s("h2",{attrs:{id:"æ¶æ„è„šæœ¬å¦‚ä½•æ³¨å…¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¶æ„è„šæœ¬å¦‚ä½•æ³¨å…¥"}},[t._v("#")]),t._v(" æ¶æ„è„šæœ¬å¦‚ä½•æ³¨å…¥")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬çŸ¥é“äº†XSSé€šè¿‡æ¶æ„è„šæœ¬å¯ä»¥åšå¾ˆå¤šåäº‹ï¼Œé‚£è¿™äº›æ¶æ„è„šæœ¬æ˜¯å¦‚ä½•æ³¨å…¥çš„å‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸»è¦æœ‰ä»¥ä¸‹3ç§æ–¹å¼æ³¨å…¥æ–¹å¼ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å­˜å‚¨å‹XSSæ”»å‡»")]),t._v(" "),s("li",[t._v("åå°„å‹XSSæ”»å‡»")]),t._v(" "),s("li",[t._v("åŸºæœ¬DOMçš„XSSæ”»å‡»")])]),t._v(" "),s("h3",{attrs:{id:"å­˜å‚¨å‹xss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å­˜å‚¨å‹xss"}},[t._v("#")]),t._v(" å­˜å‚¨å‹XSS")]),t._v(" "),s("p",[t._v("å­˜å‚¨å‹XSSä¹Ÿç§°ä¸ºæŒä¹…æ€§XSSï¼Œé»‘å®¢å°†æ¶æ„JavaScriptè„šæœ¬é•¿æœŸå­˜åœ¨é¡µé¢æœåŠ¡å™¨ï¼Œä¸€æ—¦ç”¨æˆ·è®¿é—®é¡µé¢ç›¸å…³æ•°æ®ï¼Œæ¶æ„JavaScriptå°±ä¼šæ‰§è¡Œã€‚")]),t._v(" "),s("p",[t._v("å¤§è‡´è¿‡ç¨‹å¦‚ä¸‹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("1ã€é»‘å®¢åˆ©ç”¨ç½‘ç«™æ¼æ´ï¼Œå°†ä¸€æ®µæ¶æ„JavaScriptæäº¤ç»™æœåŠ¡å™¨å¹¶ä¿å­˜åˆ°æ•°æ®åº“")]),t._v(" "),s("li",[t._v("2ã€ç”¨æˆ·è®¿é—®äº†è¯¥åŒ…å«æ¶æ„JavaScriptçš„é¡µé¢")]),t._v(" "),s("li",[t._v("3ã€ç”¨æˆ·è®¿é—®é¡µé¢æ—¶ï¼Œæ¶æ„JavaScriptå°†ä¼šæ‰§è¡Œï¼Œä»è€Œå®ç°ä»¥ä¸Šåˆ—ä¸¾çš„å„ç±»XSSæ”»å‡»ï¼ˆçªƒå–Cookieç­‰ï¼‰ã€‚\n"),s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/00831rSTgy1gd58htkftcj30zk0mhjts.jpg",alt:""}})])]),t._v(" "),s("h3",{attrs:{id:"åå°„å‹xss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åå°„å‹xss"}},[t._v("#")]),t._v(" åå°„å‹XSS")]),t._v(" "),s("p",[t._v("ä¸å­˜å‚¨å‹XSSä¸åŒï¼Œåå°„å‹XSSä¸éœ€è¦å°†æ¶æ„JavaScriptå­˜å‚¨ï¼Œç„¶åç”¨æˆ·å†è®¿é—®å¸¦æœ‰æ¶æ„JavaScriptçš„é¡µé¢ï¼Œè€Œæ˜¯é€šè¿‡è¯±å¯¼ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªåŒ…å«æ¶æ„ JavaScriptçš„é“¾æ¥URLï¼Œå®ç°åå°„å‹XSSæ”»å‡»ã€‚\nå¤§è‡´è¿‡ç¨‹å¦‚ä¸‹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("1ã€é»‘å®¢æ„é€ å¸¦æœ‰æ¶æ„è„šæœ¬çš„é“¾æ¥URL")]),t._v(" "),s("li",[t._v("2ã€é»‘å®¢è¯±å¯¼ç”¨æˆ·ç‚¹å‡»ï¼Œé¡µé¢æœåŠ¡å™¨å°†æ¶æ„è„šæœ¬å–å‡ºï¼Œæ‹¼æ¥åœ¨HTMLä¸­è¿”å›ç»™ç”¨æˆ·")]),t._v(" "),s("li",[t._v("3ã€ç”¨æˆ·æ¥æ”¶åˆ°å“åº”åï¼Œè§£æé¡µé¢æ‰§è¡Œï¼Œæ­¤æ—¶æ¶æ„ JavaScriptè¢«æ‰§è¡Œï¼Œå®ç°äº†XSSæ”»å‡»ã€‚\n"),s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/00831rSTgy1gd58i2nb7pj30yu0oygob.jpg",alt:""}})])]),t._v(" "),s("h3",{attrs:{id:"åŸºæœ¬domçš„xss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŸºæœ¬domçš„xss"}},[t._v("#")]),t._v(" åŸºæœ¬DOMçš„XSS")]),t._v(" "),s("h2",{attrs:{id:"å¦‚ä½•é˜²æ­¢xssæ”»å‡»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•é˜²æ­¢xssæ”»å‡»"}},[t._v("#")]),t._v(" å¦‚ä½•é˜²æ­¢XSSæ”»å‡»")]),t._v(" "),s("p",[t._v("é€šè¿‡XSSæ”»å‡»çš„å®ç°æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ä»–ä»¬æœ‰ä¸€ä¸ªå…±åŒç‚¹ï¼Œå¿…é¡»å‘æµè§ˆå™¨æ³¨å…¥æ¶æ„è„šæœ¬ã€‚å¦å¤–å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ˜¯çªƒå–ç”¨æˆ·çš„ä¿¡æ¯å‘é€åˆ°æ¶æ„æœåŠ¡å™¨ã€‚")]),t._v(" "),s("p",[t._v("å› æ­¤è¦é˜²æ­¢XSSæ”»å‡»ï¼Œå¯ä»¥ä»2ç‚¹å…¥æ‰‹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("1ã€é˜²æ­¢æ¶æ„JavaScriptçš„æ³¨å…¥")]),t._v(" "),s("li",[t._v("2ã€é˜²æ­¢æ¶æ„æ¶ˆæ¯çš„å‘é€")])]),t._v(" "),s("p",[t._v("ä¸‹é¢æ¥çœ‹ä¸€äº›å¸¸ç”¨çš„é˜²æ­¢XSSæ”»å‡»çš„ç­–ç•¥ã€‚")]),t._v(" "),s("h3",{attrs:{id:"å¯¹è¾“å…¥è„šæœ¬è¿›è¡Œè¿‡æ»¤æˆ–è½¬ç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹è¾“å…¥è„šæœ¬è¿›è¡Œè¿‡æ»¤æˆ–è½¬ç "}},[t._v("#")]),t._v(" å¯¹è¾“å…¥è„šæœ¬è¿›è¡Œè¿‡æ»¤æˆ–è½¬ç ")]),t._v(" "),s("p",[t._v("æåˆ°å¯¹è¾“å…¥è¿›è¡Œè¿‡æ»¤ï¼Œå¯èƒ½å¤§å®¶éƒ½ä¼šè§‰å¾—åº”è¯¥ç”±å‰ç«¯è¿‡æ»¤ï¼Œä½†å…¶å®æ”»å‡»è€…å®Œå…¨å¯ä»¥ç»•è¿‡å‰ç«¯ï¼Œç›´æ¥æ„é€ è¯·æ±‚ï¼Œæƒ³æœåŠ¡å™¨æäº¤æ¶æ„ä»£ç ã€‚å› æ­¤è¿‡æ»¤/è½¬ç ç”±æœåŠ¡ç«¯æ¥åšæ›´å®‰å…¨ï¼Œå½“ç„¶ï¼Œå‰ç«¯åŒæ—¶ä¹Ÿåšæœ€å¥½ï¼Œå¤šä¸€å±‚é˜²æŠ¤ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ä½ è¢«xssæ”»å‡»äº†'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("ä¸Šè¿°ä»£ç è¿‡æ»¤åå¦‚ä¸‹")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n")])])]),s("p",[t._v("å½“ç”¨æˆ·å†æ¬¡è¯·æ±‚é¡µé¢æ—¶ï¼Œæ¶æ„è„šæœ¬å·²è¢«è¿‡æ»¤ï¼Œä¸ä¼šå‘ç”ŸXSSæ”»å‡»ã€‚")]),t._v(" "),s("p",[t._v("ä¸Šè¿°ä»£ç è½¬ç åå¦‚ä¸‹")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("code:&lt;script&gt;alert(&#39;ä½ è¢«xssæ”»å‡»äº†&#39;)&lt;/script&gt;\n")])])]),s("p",[t._v("ç»è¿‡è½¬ç ï¼Œ"),s("code",[t._v("<script>")]),t._v("æ ‡ç­¾å·²ç»è¢«è½¬ä¸º"),s("code",[t._v("&lt;script&gt;")]),t._v("ï¼Œé¡µé¢ä¸ä¼šå°†å…¶è¯†åˆ«ä¸ºå¯æ‰§è¡Œè„šæœ¬ï¼Œå› æ­¤æ¶æ„è„šæœ¬ä¸ä¼šè¢«æ‰§è¡Œï¼Œä¸ä¼šå‘ç”ŸXSSæ”»å‡»ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("å¯¹è¾“å…¥è„šæœ¬è¿›è¡Œè¿‡æ»¤å’Œè½¬ç å¯ä»¥è§£å†³ç‰¹å®šçš„XSSé—®é¢˜ï¼Œä½†æœ‰æ—¶å€™ä¹Ÿä¼šå¸¦æ¥ä¹±ç é—®é¢˜ã€‚æ¯”å¦‚ç”¨æˆ·æ­£å¸¸è¾“å…¥äº†5 < 7ï¼Œä½†å´è¢«è½¬ç ä¸º5 < 7ï¼Œå‡ºç°ä¹±ç é—®é¢˜ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"å……åˆ†åˆ©ç”¨csp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å……åˆ†åˆ©ç”¨csp"}},[t._v("#")]),t._v(" å……åˆ†åˆ©ç”¨CSP")]),t._v(" "),s("p",[t._v("å‚è€ƒ"),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CSP",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN"),s("OutboundLink")],1),t._v("ï¼Œ\nå¤§éƒ¨åˆ†XSSæ”»å‡»æœ€ç»ˆéƒ½è¦å°†çªƒå–çš„ä¿¡æ¯å‘é€ç»™æ¶æ„æœåŠ¡å™¨ï¼Œæˆ–è€…éœ€è¦åŠ è½½å¤–éƒ¨æ¶æ„è„šæœ¬ï¼ŒCSP(Content Security Policy)å°±æ˜¯ä¸»è¦é€šè¿‡é™åˆ¶æœ‰æ•ˆåŸŸæ¥é™åˆ¶å¯¹æ¶æ„è„šæœ¬çš„è®¿é—®æˆ–è€…å‘æ¶æ„æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚")]),t._v(" "),s("p",[t._v("CSPé€šè¿‡æ·»åŠ ä¸€ä¸ª"),s("code",[t._v("Content-Security-Policy")]),t._v("å¤´éƒ¨åˆ°ä¸€ä¸ªé¡µé¢ï¼Œä»¥æ§åˆ¶æµè§ˆå™¨å¯ä»¥è®¿é—®å“ªäº›æºã€‚å¦å¤–ä¹Ÿå¯ä»¥é€šè¿‡")]),s("meta"),t._v("å…ƒç´ é…ç½®ï¼š"),s("p"),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'self'; img-src https://*; child-src 'none';\">\n")])])]),s("p",[t._v("é€šè¿‡CSPï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä»¥ä¸‹å‡ ä¸ªåŠŸèƒ½ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("é™åˆ¶åŠ è½½å…¶ä»–åŸŸä¸‹çš„èµ„æºæ–‡ä»¶ï¼Œè¿™æ ·å³ä½¿é»‘å®¢æ’å…¥äº†ä¸€ä¸ª JavaScript æ–‡ä»¶ï¼Œè¿™ä¸ª JavaScript æ–‡ä»¶ä¹Ÿæ˜¯æ— æ³•è¢«åŠ è½½çš„ï¼›\næ¯”å¦‚ï¼Œé™åˆ¶é¡µé¢çš„æ‰€æœ‰å†…å®¹å¿…é¡»æ¥è‡ªäºåŒä¸€ä¸ªæº")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Content-Security-Policy: default-src 'self'\n")])])]),s("ul",[s("li",[t._v("ç¦æ­¢å‘ç¬¬ä¸‰æ–¹åŸŸæäº¤æ•°æ®ï¼Œè¿™æ ·ç”¨æˆ·æ•°æ®ä¹Ÿä¸ä¼šå¤–æ³„ï¼›\næ¯”å¦‚ä»…å…è®¸å‘"),s("code",[t._v("https://api.example.com")]),t._v("å‘èµ·è¿æ¥")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Content-Security-Policy: default-src 'self'; connect-src https://api.example.com\n")])])]),s("ul",[s("li",[t._v("ç¦æ­¢æ‰§è¡Œå†…è”è„šæœ¬å’Œæœªæˆæƒçš„è„šæœ¬ï¼›\næ¯”å¦‚ä»…å…è®¸è„šæœ¬æ¥è‡ªäº"),s("code",[t._v("userscripts.example.com")])])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Content-Security-Policy: default-src 'self'; script-src userscripts.example.com\n")])])]),s("h3",{attrs:{id:"ä½¿ç”¨httponlyå±æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨httponlyå±æ€§"}},[t._v("#")]),t._v(" ä½¿ç”¨HttpOnlyå±æ€§")]),t._v(" "),s("p",[t._v("å¾ˆå¤šXSSæ”»å‡»éƒ½æ˜¯çªƒå–Cookieçš„ï¼Œå› æ­¤å¯ä»¥é€šè¿‡HttpOnlyæ¥ä¿æŠ¤Cookieçš„å®‰å…¨ã€‚")]),t._v(" "),s("p",[t._v("æœåŠ¡ç«¯åœ¨å“åº”ä¸­é€šè¿‡"),s("code",[t._v("set-cookie")]),t._v("è®¾ç½®Cookieæ—¶ï¼Œä¸ºæŸäº›Cookieè®¾ç½®ä¸ºHttpOnlyã€‚")]),t._v(" "),s("p",[t._v("é¡¾åæ€ä¹‰ï¼Œè¢«è®¾ç½®äº†HttpOnlyåï¼Œè¯¥Cookieå°±åªèƒ½ä½¿ç”¨åœ¨HTTPè¯·æ±‚ä¸­ï¼Œæ— æ³•é€šè¿‡è„šæœ¬ä¹Ÿå°±æ˜¯"),s("code",[t._v("documnet.cookie")]),t._v("è·å–åˆ°ã€‚")]),t._v(" "),s("p",[t._v("åœ¨æµè§ˆå™¨æ§åˆ¶å°å¯ä»¥çœ‹åˆ°ï¼Œè¢«è®¾ç½®äº†HttpOnlyçš„Cookieçš„HttpOnlyå±æ€§æ˜¯å‹¾ä¸Šäº†çš„\n"),s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/00831rSTgy1gd5b73cjulj30ic06r0tw.jpg",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"å‚è€ƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒ"}},[t._v("#")]),t._v(" å‚è€ƒ")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://time.geekbang.org/column/article/152807",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šæµè§ˆå™¨å·¥ä½œåŸç†ä¸å®è·µã€‹"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://tech.meituan.com/2018/09/27/fe-security.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("å‰ç«¯å®‰å…¨ç³»åˆ—ï¼ˆä¸€ï¼‰ï¼šå¦‚ä½•é˜²æ­¢XSSæ”»å‡»ï¼Ÿ"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=r.exports}}]);